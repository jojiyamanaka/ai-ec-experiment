---
name: tasks
description: 技術設計書から実装タスクを作成する。CHG番号を引数に取り、設計書と実コードを突合して具体的な実装手順書を生成する。
argument-hint: "[CHG番号 例: CHG-011]"
disable-model-invocation: true
---

# 実装タスクの作成

CHG番号: $ARGUMENTS

## 手順

### 1. 要件定義書・技術設計書の読み込み

`docs/01_requirements/` と `docs/02_designs/` から $ARGUMENTS に一致するファイルを検索して読み込む。
設計書が見つからない場合はユーザーに報告して終了する。

### 2. 変更対象ファイルの現在のコードを確認

設計書に記載された変更対象ファイルをすべて読み込み、以下を把握する:

- 現在の実装内容と行番号
- import 文の構成
- 変更を挿入すべき正確な位置（前後のコードをランドマークとして特定）
- 既存の変数名・メソッド名・型名

**重要**: 設計書のコード例と実際のコードに差異がある場合は、実際のコードに合わせる。

### 3. 実装タスクの作成

`docs/03_tasks/` にファイルを作成する。
ファイル名は設計書と同じ命名規則 (`CHG-XXX_<機能名>.md`) に従う。

構成テンプレートは [template.md](template.md) を参照。
過去の実装タスクの例は `docs/archive/03_tasks/` を参照。

#### タスク記述のルール

各タスクは以下を含むこと:

- **ファイルパス**: フルパスで記載（例: `backend/src/main/java/com/example/aiec/service/CartService.java`）
- **挿入位置**: 行番号と前後のコードをランドマークとして明示
- **具体的なコード**: コピペで実装できるレベルのコード断片
- **変更前/変更後**: 既存コードを変更する場合は両方を明示

#### タスク粒度のルール

- 1タスク = 1ファイルの1つの変更単位（import追加 + 本体変更は1タスクでよい）
- 各タスクが単体で実装・検証可能な粒度にする
- 依存関係がある場合は実装順序セクションで明示する

### 4. ユーザーへの報告

作成したタスクの概要を報告する:
- タスク数と実装順序
- 検証コマンドと検証手順
