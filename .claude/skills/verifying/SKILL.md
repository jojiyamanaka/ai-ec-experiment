---
name: verifying
description: Codex実装後のReview Packetを読み取り、ビルド検証を実行して結果を報告する。
argument-hint: "[CHG番号またはタスクファイルパス]"
---

# 実装結果の検証

引数: $ARGUMENTS

## 設計原則

Codex が書き出した Review Packet（タスクファイル末尾）を読み、最小限のコンテキストで検証する。`git diff` は問題発見時のみ使用する。

## 手順

### 1. タスクファイルの特定

引数がファイルパスならそのまま使用する。
CHG番号の場合は `docs/03_tasks/` から Glob で一致するファイルを検索する。
見つからない場合はユーザーに報告して終了する。

### 2. Review Packet の確認

タスクファイルを Read で読み、末尾の `## Review Packet` セクションを確認する。

セクションが存在しない場合:
- Codex が Review Packet を書かなかった旨をユーザーに報告
- フォールバックとして `git diff --stat` を実行し、変更概要を取得する

### 3. ビルド検証

タスクファイル冒頭の「検証コマンド」を実行する（終了コードで成否判定）。

### 4. 問題の深掘り（必要な場合のみ）

以下のいずれかに該当する場合のみ、`git diff` で該当箇所を確認する:
- ビルド検証が FAIL
- Review Packet の「リスクと未解決」に懸念がある
- Review Packet の「テスト結果」が FAIL

### 5. ユーザーへの報告

以下を報告する:
- Review Packet の変更サマリ（そのまま転記）
- ビルド検証の結果（PASS / FAIL）
- 問題があった場合はその内容と対処案
