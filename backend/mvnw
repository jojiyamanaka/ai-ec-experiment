#!/bin/sh
# Maven Wrapper startup script for Unix/Mac

# Find the project base dir
MAVEN_PROJECTBASEDIR="$(cd "$(dirname "$0")"; pwd)"

# Download maven-wrapper.jar if not present
if [ ! -f "$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar" ]; then
    echo "Downloading maven-wrapper.jar..."
    curl -o "$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar" \
        https://repo.maven.apache.org/maven2/org/apache/maven/wrapper/maven-wrapper/3.3.2/maven-wrapper-3.3.2.jar
fi

# Execute Maven
exec java $MAVEN_OPTS -classpath "$MAVEN_PROJECTBASEDIR/.mvn/wrapper/maven-wrapper.jar" \
    "-Dmaven.multiModuleProjectDirectory=$MAVEN_PROJECTBASEDIR" \
    org.apache.maven.wrapper.MavenWrapperMain "$@"
