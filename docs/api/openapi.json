{"openapi":"3.1.0","info":{"title":"AI EC Core API","description":"AI EC Experiment の Core API 仕様","version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"SessionId":[],"BearerAuth":[],"BoAuth":[]}],"tags":[{"name":"在庫（内部）","description":"在庫引当の内部API"},{"name":"注文","description":"注文の作成・取得・状態更新"},{"name":"顧客認証","description":"顧客の登録・ログイン・ログアウト"},{"name":"管理者認証","description":"管理者のログイン・ログアウト"},{"name":"商品","description":"商品の取得・更新"},{"name":"管理（会員）","description":"会員管理"},{"name":"管理（BoUser）","description":"BoUser管理"},{"name":"管理（在庫）","description":"在庫管理・調整"}],"paths":{"/api/order/cart/items/{id}":{"put":{"tags":["注文"],"summary":"カート内商品の数量変更","description":"カート内商品の数量を変更","operationId":"updateCartItem","parameters":[{"name":"X-Session-Id","in":"header","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateQuantityRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseCartDto"}}}}}},"delete":{"tags":["注文"],"summary":"カートから商品削除","description":"カートから商品を削除","operationId":"removeFromCart","parameters":[{"name":"X-Session-Id","in":"header","required":true,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseCartDto"}}}}}}},"/api/item/{id}":{"get":{"tags":["商品"],"summary":"商品詳細取得","description":"指定IDの商品情報を取得","operationId":"getProduct","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseProductDto"}}}}}},"put":{"tags":["商品"],"summary":"商品更新","description":"管理者が商品情報を更新","operationId":"updateProduct","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateProductRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseProductDto"}}}}}}},"/api/bo/admin/members/{id}/status":{"put":{"tags":["管理（会員）"],"summary":"会員状態変更","description":"会員の有効/無効状態を変更","operationId":"updateMemberStatus","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateStatusRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseUserDto"}}}}}}},"/api/order":{"get":{"tags":["注文"],"summary":"全注文取得","description":"管理者が全注文を取得","operationId":"getAllOrders","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseListOrderDto"}}}}}},"post":{"tags":["注文"],"summary":"注文作成","description":"カートの内容で注文を作成","operationId":"createOrder","parameters":[{"name":"X-Session-Id","in":"header","required":true,"schema":{"type":"string"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseOrderDto"}}}}}}},"/api/order/{id}/ship":{"post":{"tags":["注文"],"summary":"注文発送","description":"管理者が注文を発送済みにする","operationId":"shipOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseOrderDto"}}}}}}},"/api/order/{id}/deliver":{"post":{"tags":["注文"],"summary":"注文配達完了","description":"管理者が注文を配達完了にする","operationId":"deliverOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseOrderDto"}}}}}}},"/api/order/{id}/confirm":{"post":{"tags":["注文"],"summary":"注文確認","description":"管理者が注文を確認済みにする","operationId":"confirmOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseOrderDto"}}}}}}},"/api/order/{id}/cancel":{"post":{"tags":["注文"],"summary":"注文キャンセル","description":"注文をキャンセルし在庫を戻す","operationId":"cancelOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"X-Session-Id","in":"header","required":false,"schema":{"type":"string"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseOrderDto"}}}}}}},"/api/order/cart/items":{"post":{"tags":["注文"],"summary":"カートに商品追加","description":"カートに商品を追加","operationId":"addToCart","parameters":[{"name":"X-Session-Id","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddToCartRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseCartDto"}}}}}}},"/api/inventory/reservations":{"post":{"tags":["在庫（内部）"],"summary":"仮引当作成","description":"指定商品の在庫を仮引当する","operationId":"createReservation","parameters":[{"name":"X-Session-Id","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateReservationRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"201":{"description":"Created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseReservationDto"}}}}}},"delete":{"tags":["在庫（内部）"],"summary":"仮引当解除","description":"仮引当を解除して在庫を戻す","operationId":"releaseReservation","parameters":[{"name":"X-Session-Id","in":"header","required":true,"schema":{"type":"string"}},{"name":"productId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/inventory/reservations/release":{"post":{"tags":["在庫（内部）"],"summary":"本引当解除","description":"本引当を解除して在庫を戻す","operationId":"releaseCommittedReservations","parameters":[{"name":"X-Session-Id","in":"header","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer","format":"int64"}}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/inventory/reservations/commit":{"post":{"tags":["在庫（内部）"],"summary":"本引当","description":"仮引当を本引当に確定する","operationId":"commitReservations","parameters":[{"name":"X-Session-Id","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/bo/admin/inventory/adjust":{"post":{"tags":["管理（在庫）"],"summary":"在庫調整","description":"指定商品の在庫数を調整","operationId":"adjustStock","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AdjustStockRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseInventoryAdjustment"}}}}}}},"/api/bo/admin/bo-users":{"get":{"tags":["管理（BoUser）"],"summary":"BoUser一覧取得","description":"全管理者ユーザーの一覧を取得","operationId":"getBoUsers","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseListBoUserDto"}}}}}},"post":{"tags":["管理（BoUser）"],"summary":"BoUser作成","description":"新規管理者ユーザーを作成","operationId":"createBoUser","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateBoUserRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseBoUserDto"}}}}}}},"/api/bo-auth/logout":{"post":{"tags":["管理者認証"],"summary":"管理者ログアウト","description":"管理者の認証トークンを失効させる","operationId":"logout","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringString"}}}}}}},"/api/bo-auth/login":{"post":{"tags":["管理者認証"],"summary":"管理者ログイン","description":"BoUserのメールアドレスとパスワードで認証","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoLoginRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseBoAuthResponse"}}}}}}},"/api/auth/register":{"post":{"tags":["顧客認証"],"summary":"会員登録","description":"新規会員を登録しトークンを発行","operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseAuthResponse"}}}}}}},"/api/auth/logout":{"post":{"tags":["顧客認証"],"summary":"ログアウト","description":"認証トークンを失効させる","operationId":"logout_1","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringString"}}}}}}},"/api/auth/login":{"post":{"tags":["顧客認証"],"summary":"ログイン","description":"メールアドレスとパスワードで認証しトークンを発行","operationId":"login_1","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseAuthResponse"}}}}}}},"/api/order/{id}":{"get":{"tags":["注文"],"summary":"注文詳細取得","description":"指定IDの注文詳細を取得","operationId":"getOrderById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"X-Session-Id","in":"header","required":false,"schema":{"type":"string"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseOrderDto"}}}}}}},"/api/order/history":{"get":{"tags":["注文"],"summary":"注文履歴取得","description":"会員の注文履歴を取得","operationId":"getOrderHistory","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseListOrderDto"}}}}}}},"/api/order/cart":{"get":{"tags":["注文"],"summary":"カート取得","description":"セッションに紐づくカートを取得","operationId":"getCart","parameters":[{"name":"X-Session-Id","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseCartDto"}}}}}}},"/api/item":{"get":{"tags":["商品"],"summary":"商品一覧取得","description":"公開商品の一覧をページネーション付きで取得","operationId":"getProducts","parameters":[{"name":"page","in":"query","description":"ページ番号","required":false,"schema":{"type":"integer","format":"int32","default":1}},{"name":"limit","in":"query","description":"1ページあたりの件数","required":false,"schema":{"type":"integer","format":"int32","default":20}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseProductListResponse"}}}}}}},"/api/inventory/availability/{productId}":{"get":{"tags":["在庫（内部）"],"summary":"有効在庫確認","description":"指定商品の有効在庫数を取得","operationId":"getAvailability","parameters":[{"name":"productId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseAvailabilityDto"}}}}}}},"/api/bo/admin/members":{"get":{"tags":["管理（会員）"],"summary":"会員一覧取得","description":"全会員の一覧を取得","operationId":"getMembers","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseListUserDto"}}}}}}},"/api/bo/admin/members/{id}":{"get":{"tags":["管理（会員）"],"summary":"会員詳細取得","description":"指定IDの会員詳細と注文サマリを取得","operationId":"getMemberById","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}},{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseMemberDetailDto"}}}}}}},"/api/bo/admin/inventory":{"get":{"tags":["管理（在庫）"],"summary":"在庫一覧取得","description":"全商品の在庫状況を取得","operationId":"getAllInventory","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseListInventoryStatusDto"}}}}}}},"/api/bo/admin/inventory/adjustments":{"get":{"tags":["管理（在庫）"],"summary":"在庫調整履歴取得","description":"在庫調整の履歴を取得","operationId":"getAdjustments","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}},{"name":"productId","in":"query","required":false,"schema":{"type":"integer","format":"int64"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseListInventoryAdjustment"}}}}}}},"/api/bo-auth/me":{"get":{"tags":["管理者認証"],"summary":"管理者情報取得","description":"認証済み管理者の情報を取得","operationId":"getCurrentBoUser","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseBoUserDto"}}}}}}},"/api/auth/me":{"get":{"tags":["顧客認証"],"summary":"会員情報取得","description":"認証済み会員の情報を取得","operationId":"getCurrentUser","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string"}}],"responses":{"403":{"description":"Forbidden","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}},"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiResponseUserDto"}}}}}}}},"components":{"schemas":{"ApiResponseVoid":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"type":"object","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"ErrorDetail":{"type":"object","description":"エラー詳細","properties":{"code":{"type":"string","description":"エラーコード","example":"NOT_FOUND"},"message":{"type":"string","description":"エラーメッセージ","example":"リソースが見つかりません"},"details":{"type":"object","description":"追加のエラー情報"}}},"UpdateQuantityRequest":{"type":"object","properties":{"quantity":{"type":"integer","format":"int32","maximum":9,"minimum":1}},"required":["quantity"]},"ApiResponseCartDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/CartDto","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"CartDto":{"type":"object","description":"カート情報","properties":{"items":{"type":"array","description":"カート内商品リスト","items":{"$ref":"#/components/schemas/CartItemDto"}},"totalQuantity":{"type":"integer","format":"int32","description":"合計数量","example":3},"totalPrice":{"type":"number","description":"合計金額（円）","example":11940}}},"CartItemDto":{"type":"object","description":"カートアイテム情報","properties":{"id":{"type":"integer","format":"int64","description":"商品ID","example":1},"product":{"$ref":"#/components/schemas/ProductDto","description":"商品情報"},"quantity":{"type":"integer","format":"int32","description":"数量","example":2}}},"ProductDto":{"type":"object","description":"商品情報","properties":{"id":{"type":"integer","format":"int64","description":"商品ID","example":1},"name":{"type":"string","description":"商品名","example":"AIスピーカー"},"price":{"type":"number","description":"税込価格（円）","example":3980},"image":{"type":"string","description":"商品画像URL","example":"/images/speaker.jpg"},"description":{"type":"string","description":"商品説明"},"stock":{"type":"integer","format":"int32","description":"在庫数","example":100},"isPublished":{"type":"boolean","description":"公開状態","example":true}}},"UpdateProductRequest":{"type":"object","properties":{"price":{"type":"number","minimum":0},"stock":{"type":"integer","format":"int32","minimum":0},"isPublished":{"type":"boolean"}}},"ApiResponseProductDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/ProductDto","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"UpdateStatusRequest":{"type":"object","properties":{"isActive":{"type":"boolean"}}},"ApiResponseUserDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/UserDto","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"UserDto":{"type":"object","description":"ユーザー情報","properties":{"id":{"type":"integer","format":"int64","description":"ユーザーID","example":1},"email":{"type":"string","description":"メールアドレス","example":"user@example.com"},"displayName":{"type":"string","description":"表示名","example":"田中太郎"},"isActive":{"type":"boolean","description":"有効状態","example":true},"createdAt":{"type":"string","format":"date-time","description":"登録日時"}}},"CreateOrderRequest":{"type":"object","properties":{"cartId":{"type":"string"}},"required":["cartId"]},"ApiResponseOrderDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/OrderDto","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"OrderDto":{"type":"object","description":"注文情報","properties":{"orderId":{"type":"integer","format":"int64","description":"注文ID","example":1},"orderNumber":{"type":"string","description":"注文番号","example":"ORD-20260218-001"},"userId":{"type":"integer","format":"int64","description":"会員ID（ゲスト注文の場合null）","example":1},"userEmail":{"type":"string","description":"会員メールアドレス"},"userDisplayName":{"type":"string","description":"会員表示名"},"items":{"type":"array","description":"注文商品リスト","items":{"$ref":"#/components/schemas/OrderItemDto"}},"totalPrice":{"type":"number","description":"合計金額（円）","example":11940},"status":{"type":"string","description":"注文ステータス","example":"PENDING"},"createdAt":{"type":"string","description":"注文日時（ISO 8601）"},"updatedAt":{"type":"string","description":"更新日時（ISO 8601）"}}},"OrderItemDto":{"type":"object","description":"注文アイテム情報","properties":{"product":{"$ref":"#/components/schemas/ProductDto","description":"商品情報"},"quantity":{"type":"integer","format":"int32","description":"数量","example":2},"subtotal":{"type":"number","description":"小計（円）","example":7960}}},"AddToCartRequest":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32","maximum":9,"minimum":1}},"required":["productId"]},"CreateReservationRequest":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32","minimum":1}},"required":["productId","quantity"]},"ApiResponseReservationDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/ReservationDto","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"ReservationDto":{"type":"object","properties":{"reservationId":{"type":"integer","format":"int64"},"productId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"},"type":{"type":"string"},"expiresAt":{"type":"string","format":"date-time"},"availableStock":{"type":"integer","format":"int32"}}},"AdjustStockRequest":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantityDelta":{"type":"integer","format":"int32"},"reason":{"type":"string"}}},"ApiResponseInventoryAdjustment":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/InventoryAdjustment","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"InventoryAdjustment":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"product":{"$ref":"#/components/schemas/Product"},"quantityBefore":{"type":"integer","format":"int32"},"quantityAfter":{"type":"integer","format":"int32"},"quantityDelta":{"type":"integer","format":"int32"},"reason":{"type":"string"},"adjustedBy":{"type":"string"},"adjustedAt":{"type":"string","format":"date-time"}}},"Product":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"number"},"image":{"type":"string"},"description":{"type":"string"},"stock":{"type":"integer","format":"int32"},"isPublished":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"createdByType":{"type":"string","enum":["USER","BO_USER","SYSTEM"]},"createdById":{"type":"integer","format":"int64"},"updatedAt":{"type":"string","format":"date-time"},"updatedByType":{"type":"string","enum":["USER","BO_USER","SYSTEM"]},"updatedById":{"type":"integer","format":"int64"},"isDeleted":{"type":"boolean"},"deletedAt":{"type":"string","format":"date-time"},"deletedByType":{"type":"string","enum":["USER","BO_USER","SYSTEM"]},"deletedById":{"type":"integer","format":"int64"}}},"CreateBoUserRequest":{"type":"object","properties":{"username":{"type":"string"},"displayName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"}}},"ApiResponseBoUserDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/BoUserDto","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"BoUserDto":{"type":"object","description":"管理者ユーザー情報","properties":{"id":{"type":"integer","format":"int64","description":"管理者ID","example":1},"email":{"type":"string","description":"メールアドレス","example":"admin@example.com"},"displayName":{"type":"string","description":"表示名","example":"管理者"},"permissionLevel":{"type":"string","description":"権限レベル","enum":["SUPER_ADMIN","ADMIN","OPERATOR"],"example":"ADMIN"},"lastLoginAt":{"type":"string","format":"date-time","description":"最終ログイン日時"},"isActive":{"type":"boolean","description":"有効状態","example":true},"createdAt":{"type":"string","format":"date-time","description":"作成日時"},"updatedAt":{"type":"string","format":"date-time","description":"更新日時"}}},"ApiResponseMapStringString":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"type":"object","additionalProperties":{"type":"string"},"description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"BoLoginRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"ApiResponseBoAuthResponse":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/BoAuthResponse","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"BoAuthResponse":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/BoUserDto"},"token":{"type":"string"},"expiresAt":{"type":"string","format":"date-time"}}},"RegisterRequest":{"type":"object","properties":{"email":{"type":"string"},"displayName":{"type":"string","maxLength":100,"minLength":1},"password":{"type":"string","maxLength":100,"minLength":8}},"required":["displayName","email","password"]},"ApiResponseAuthResponse":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/AuthResponse","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"AuthResponse":{"type":"object","properties":{"user":{"$ref":"#/components/schemas/UserDto"},"token":{"type":"string"},"expiresAt":{"type":"string","format":"date-time"}}},"LoginRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"required":["email","password"]},"ApiResponseListOrderDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"type":"array","description":"レスポンスデータ","items":{"$ref":"#/components/schemas/OrderDto"}},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"ApiResponseProductListResponse":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/ProductListResponse","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"ProductListResponse":{"type":"object","description":"商品一覧レスポンス","properties":{"items":{"type":"array","description":"商品リスト","items":{"$ref":"#/components/schemas/ProductDto"}},"total":{"type":"integer","format":"int64","description":"総件数","example":50},"page":{"type":"integer","format":"int32","description":"現在のページ番号","example":1},"limit":{"type":"integer","format":"int32","description":"1ページあたりの件数","example":20}}},"ApiResponseAvailabilityDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/AvailabilityDto","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"AvailabilityDto":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"physicalStock":{"type":"integer","format":"int32"},"tentativeReserved":{"type":"integer","format":"int32"},"committedReserved":{"type":"integer","format":"int32"},"availableStock":{"type":"integer","format":"int32"}}},"ApiResponseListUserDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"type":"array","description":"レスポンスデータ","items":{"$ref":"#/components/schemas/UserDto"}},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"ApiResponseMemberDetailDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"$ref":"#/components/schemas/MemberDetailDto","description":"レスポンスデータ"},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"MemberDetailDto":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"email":{"type":"string"},"displayName":{"type":"string"},"isActive":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"orderSummary":{"$ref":"#/components/schemas/OrderSummary"}}},"OrderSummary":{"type":"object","properties":{"totalOrders":{"type":"integer","format":"int64"},"totalAmount":{"type":"number"}}},"ApiResponseListInventoryStatusDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"type":"array","description":"レスポンスデータ","items":{"$ref":"#/components/schemas/InventoryStatusDto"}},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"InventoryStatusDto":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"productName":{"type":"string"},"physicalStock":{"type":"integer","format":"int32"},"tentativeReserved":{"type":"integer","format":"int32"},"committedReserved":{"type":"integer","format":"int32"},"availableStock":{"type":"integer","format":"int32"}}},"ApiResponseListInventoryAdjustment":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"type":"array","description":"レスポンスデータ","items":{"$ref":"#/components/schemas/InventoryAdjustment"}},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}},"ApiResponseListBoUserDto":{"type":"object","description":"API共通レスポンス","properties":{"success":{"type":"boolean","description":"成功フラグ","example":true},"data":{"type":"array","description":"レスポンスデータ","items":{"$ref":"#/components/schemas/BoUserDto"}},"error":{"$ref":"#/components/schemas/ErrorDetail","description":"エラー詳細（エラー時のみ）"}}}},"securitySchemes":{"SessionId":{"type":"apiKey","description":"セッションID（カート・注文操作に必要）","name":"X-Session-Id","in":"header"},"BearerAuth":{"type":"http","description":"顧客認証トークン","scheme":"bearer"},"BoAuth":{"type":"http","description":"管理者認証トークン","scheme":"bearer"}}}}