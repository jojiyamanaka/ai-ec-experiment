# CHG-019 impl-notes

## T-3
- `@ApiTags` は Customer BFF の機能モジュール単位（`auth`, `products`, `cart`, `orders`, `members`, `health`）で統一した。
- 各エンドポイントに `@ApiOperation` を必須付与し、HTTP 200 系戻り値は `@ApiOkResponse` を付与した。
- 認証必須エンドポイントは `@ApiUnauthorizedResponse` を付与して 401 契約を明示した。
- Swagger UI 有効化は `process.env.SWAGGER_ENABLED !== 'false'` を条件にし、`false` 指定時は `SwaggerModule.setup()` を呼ばない構成にした（`/api-docs` は 404 になる）。

## T-4
- `@ApiTags` は BackOffice BFF の機能モジュール単位（`bo-auth`, `inventory`, `orders`, `members`, `bo-users`, `health`）で統一した。
- body を受けるエンドポイントは `@ApiBody` を付与し、既存のインライン型定義を OpenAPI schema として明示した。
- 認証保護エンドポイントは `@ApiUnauthorizedResponse` を付与して 401 契約を明示した。
- BackOffice 側も Customer 側と同一ガード条件（`SWAGGER_ENABLED !== 'false'`）を採用し、環境差分が出ないようにした。
